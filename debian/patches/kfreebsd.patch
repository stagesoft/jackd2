From: Adrian Knoth <adi@drcomp.erfurt.thur.de>
Bugs-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=669566
Forwarded: Not-Yet
Description: Fix FTBFS on kFreeBSD and HURD
--- a/wscript
+++ b/wscript
@@ -79,10 +79,15 @@
     opt.sub_options('dbus')
 
 def configure(conf):
+    conf.load('compiler_cxx')
+    conf.load('compiler_cc')
     platform = sys.platform
     conf.env['IS_MACOSX'] = platform == 'darwin'
     conf.env['IS_LINUX'] = platform == 'linux' or platform == 'linux2' or platform == 'posix'
     conf.env['IS_SUN'] = platform == 'sunos'
+    # GNU/kFreeBSD and GNU/Hurd are treated as Linux
+    if platform.startswith('gnu0') or platform.startswith('gnukfreebsd'):
+        conf.env['IS_LINUX'] = True
 
     if conf.env['IS_LINUX']:
         Logs.pprint('CYAN', "Linux detected")
